<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 What is exploratory data analysis? | Exploratory Data Analysis in the 21st Century</title>
  <meta name="description" content="This is a book about EDA today." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 What is exploratory data analysis? | Exploratory Data Analysis in the 21st Century" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book about EDA today." />
  <meta name="github-repo" content="https://github.com/dicook/explore-data" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 What is exploratory data analysis? | Exploratory Data Analysis in the 21st Century" />
  
  <meta name="twitter:description" content="This is a book about EDA today." />
  

<meta name="author" content="Di Cook and Emi Tanaka" />


<meta name="date" content="2021-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="initial-data-analysis.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">This is a book about EDA today. </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="what-is-eda.html"><a href="what-is-eda.html"><i class="fa fa-check"></i><b>2</b> What is exploratory data analysis?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="what-is-eda.html"><a href="what-is-eda.html#current-interpretations"><i class="fa fa-check"></i><b>2.1</b> Current interpretations</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-eda.html"><a href="what-is-eda.html#differentiating-from-traditional-analysis"><i class="fa fa-check"></i><b>2.2</b> Differentiating from traditional analysis</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="what-is-eda.html"><a href="what-is-eda.html#from-the-case-study"><i class="fa fa-check"></i><b>2.2.1</b> From the case study</a></li>
<li class="chapter" data-level="2.2.2" data-path="what-is-eda.html"><a href="what-is-eda.html#eda-approach"><i class="fa fa-check"></i><b>2.2.2</b> EDA approach</a></li>
<li class="chapter" data-level="2.2.3" data-path="what-is-eda.html"><a href="what-is-eda.html#summarising-the-difference"><i class="fa fa-check"></i><b>2.2.3</b> Summarising the difference</a></li>
<li class="chapter" data-level="2.2.4" data-path="what-is-eda.html"><a href="what-is-eda.html#reality-check"><i class="fa fa-check"></i><b>2.2.4</b> Reality check</a></li>
<li class="chapter" data-level="2.2.5" data-path="what-is-eda.html"><a href="what-is-eda.html#what-is-eda-1"><i class="fa fa-check"></i><b>2.2.5</b> What is EDA?</a></li>
<li class="chapter" data-level="2.2.6" data-path="what-is-eda.html"><a href="what-is-eda.html#isnt-it-data-snooping"><i class="fa fa-check"></i><b>2.2.6</b> Isn‚Äôt it data snooping?</a></li>
<li class="chapter" data-level="2.2.7" data-path="what-is-eda.html"><a href="what-is-eda.html#why-arent-there-more-resources-on-eda"><i class="fa fa-check"></i><b>2.2.7</b> Why aren‚Äôt there more resources on EDA?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="what-is-eda.html"><a href="what-is-eda.html#the-origins-of-eda"><i class="fa fa-check"></i><b>2.3</b> The origins of EDA</a></li>
<li class="chapter" data-level="2.4" data-path="what-is-eda.html"><a href="what-is-eda.html#exercises"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html"><i class="fa fa-check"></i><b>3</b> Initial Data Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#data-description"><i class="fa fa-check"></i><b>3.1</b> Data description</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#checking-the-data-type"><i class="fa fa-check"></i><b>3.1.1</b> Checking the data type</a></li>
<li class="chapter" data-level="3.1.2" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#checking-the-data-quality"><i class="fa fa-check"></i><b>3.1.2</b> Checking the data quality</a></li>
<li class="chapter" data-level="3.1.3" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#check-on-data-collection-method"><i class="fa fa-check"></i><b>3.1.3</b> Check on data collection method</a></li>
<li class="chapter" data-level="3.1.4" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#check-for-experimental-data"><i class="fa fa-check"></i><b>3.1.4</b> Check for experimental data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="initial-data-analysis.html"><a href="initial-data-analysis.html#model-formulation"><i class="fa fa-check"></i><b>3.2</b> Model formulation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-a-single-variable.html"><a href="working-with-a-single-variable.html"><i class="fa fa-check"></i><b>4</b> Working with a single variable</a></li>
<li class="chapter" data-level="5" data-path="bivariate-dependencies-and-relationships.html"><a href="bivariate-dependencies-and-relationships.html"><i class="fa fa-check"></i><b>5</b> Bivariate dependencies and relationships</a></li>
<li class="chapter" data-level="6" data-path="going-beyond-two-variables.html"><a href="going-beyond-two-variables.html"><i class="fa fa-check"></i><b>6</b> Going beyond two variables</a></li>
<li class="chapter" data-level="7" data-path="making-comparisons-between-groups-and-strata.html"><a href="making-comparisons-between-groups-and-strata.html"><i class="fa fa-check"></i><b>7</b> Making comparisons between groups and strata</a></li>
<li class="chapter" data-level="8" data-path="sculpting-data-using-models.html"><a href="sculpting-data-using-models.html"><i class="fa fa-check"></i><b>8</b> Sculpting data using models</a></li>
<li class="chapter" data-level="9" data-path="exploring-data-having-a-space-and-time-context.html"><a href="exploring-data-having-a-space-and-time-context.html"><i class="fa fa-check"></i><b>9</b> Exploring data having a space and time context</a></li>
<li class="chapter" data-level="10" data-path="is-what-you-see-really-there.html"><a href="is-what-you-see-really-there.html"><i class="fa fa-check"></i><b>10</b> Is what you see really there?</a></li>
<li class="chapter" data-level="11" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>11</b> Final words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href= https://github.com/dicook/exploratory-data-analysis-in-the-21st-century" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploratory Data Analysis in the 21st Century</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="what-is-eda" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> What is exploratory data analysis?</h1>
<p>Data analysis is a process of cleaning, transforming,
inspecting and modelling data with the aim of extracting
information.</p>
<p>Data analysis includes:</p>
<ul>
<li>exploratory data analysis,</li>
<li>confirmatory data analysis, and</li>
<li>initial data analysis.</li>
</ul>
<!-- Modeling and prediction and EDA -->
<p>Before modelling and predicting, data should first be explored to uncover the patterns and structures that exist. Exploratory data analysis involves both numerical and visual techniques designed to reveal interesting information that may be hidden in the data. However, an analyst must be cautious not to over-interpret apparent patterns, and to make efforts assess the results of a data exploration are reliable for the data being studied and potentially for new data.</p>
<!-- Inference and EDA -->
<p>In a confirmatory data analysis, the focus is on statistical inference and includes processes such as testing hypothesis, model selection, or predictive modelling. Initial data analysis is an important part of this, to check the sometimes strict assumptions made in order to conduct inference.</p>
<div id="current-interpretations" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Current interpretations</h2>
<!-- Some common explanations -->
<p>EDA today is prevalent, and there are many descriptions. It‚Äôs interesting to compare and contrast these, in relation to the original scope.</p>
<p>From <a href="https://en.wikipedia.org/wiki/Exploratory_data_analysis">wikipedia</a></p>
<blockquote>
<p>In statistics, exploratory data analysis (EDA) is an approach to analyzing data sets to summarize their main characteristics, often with visual methods. A statistical model can be used or not, but primarily EDA is for seeing what the data can tell us beyond the formal modeling or hypothesis testing task.</p>
</blockquote>
<p>In <span class="citation"><a href="#ref-r4ds" role="doc-biblioref">Wickham and Grolemund</a> (<a href="#ref-r4ds" role="doc-biblioref">2017</a>)</span></p>
<blockquote>
<p>EDA is not a formal process with a strict set of rules. More than anything, EDA is a state of mind. During the initial phases of EDA you should feel free to investigate every idea that occurs to you. Some of these ideas will pan out, and some will be dead ends.</p>
</blockquote>
<p>The <a href="https://www.itl.nist.gov/div898/handbook/eda/section1/eda11.htm">National Institute of Standards and Technology</a></p>
<blockquote>
<p>Exploratory Data Analysis (EDA) is an approach/philosophy for data analysis that employs a variety of techniques (mostly graphical) to (1) maximize insight into a data set; (2) uncover underlying structure; (3) extract important variables; (4) detect outliers and anomalies; (5) test underlying assumptions; (6) develop parsimonious models; and (7) determine optimal factor settings.</p>
</blockquote>
<p>The predictive analytics competition site <a href="https://www.kaggle.com/pavansanagapati/a-simple-tutorial-on-exploratory-data-analysis">Kaggle</a> says</p>
<blockquote>
<p>What is Exploratory Data Analysis (EDA)? (1) How to ensure you are ready to use machine learning algorithms in a project? (2) How to choose the most suitable algorithms for your data set? (3) How to define the feature variables that can potentially be used for machine learning?</p>
</blockquote>
<p>Legacy data analysis software system <a href="https://seleritysas.com/blog/2020/05/08/exploratory-data-analysis-and-its-role-in-improving-business-operations/">SAS</a> says</p>
<blockquote>
<p>EDA is necessary for the next stage of data research. If there was an analogy to exploratory data analysis, it would be that of a painter examining their tools and available time, before deciding on what best to paint.</p>
</blockquote>
<p>The massive online <a href="https://www.coursera.org/learn/exploratory-data-analysis#syllabus">John Hopkins EDA class</a> describes it as</p>
<blockquote>
<p>These techniques are typically applied before formal modeling commences and can help inform the development of more complex statistical models. Exploratory techniques are also important for eliminating or sharpening potential hypotheses about the world that can be addressed by the data.</p>
</blockquote>
<p>General information site <a href="https://towardsdatascience.com/if-you-dont-find-anything-new-you-don-t-do-eda-right-d356f9995098">Towards Data Science</a> says</p>
<blockquote>
<p>The purpose of doing the Exploratory Data Analysis or EDA is to find new information in data. The understanding of EDA that practitioners may not aware of, is the EDA uses a visually-examined dataset to understand and summarize the main characteristics of the dataset without having a prior hypothesis or relying upon statistical models.</p>
</blockquote>
</div>
<div id="differentiating-from-traditional-analysis" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Differentiating from traditional analysis</h2>
<div id="from-the-case-study" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> From the case study</h3>
<p>In 1995 I (Di), as a newly fledged assistant professor, was asked to teach a Business Statistics course. In the process of looking for appropriate examples, I found a book titled ‚ÄúPractical Data Analysis: Case Studies in Business Statistics‚Äù by Bryant and Smith <span class="citation">(<a href="#ref-bryantsmith1995" role="doc-biblioref">Bryant and Smith 1995</a>)</span>. The example on tipping in restaurants caught my eye, because I had always found tipping to be a difficult. Perhaps this was because I was an Australian new to the practice after moving to the USA for graduate school, in 1988 and still uncomfortable with the culture almost a decade later. The types of questions that bounce around mentally, should I tip because the wait staff‚Äôs wage comes mostly from this money, how much does the restaurant owner take from the worker, was the service good, have I just been paid and can be generous.</p>
<div id="whatistipping" class="section level4 unnumbered">
<h4>What is tipping?</h4>
<p>According to <a href="https://www.washingtonpost.com/news/going-out-guide/wp/2016/09/15/tipping-can-be-complicated-these-are-the-basic-rules-you-should-know-about/">The basic rules of tipping that everyone should know about</a>:</p>
<ul>
<li>When you‚Äôre dining at a full-service restaurant
<ul>
<li>Tip 20 percent of your full bill.</li>
</ul></li>
<li>When you grab a cup of coffee
<ul>
<li>Round up or add a dollar if you‚Äôre a regular or ordered a complicated drink.</li>
</ul></li>
<li>When you have lunch at a food truck
<ul>
<li>Drop a few dollars into the tip jar, but a little less than you would at a dine-in spot.</li>
</ul></li>
<li>When you use a gift card
<ul>
<li>Tip on the total value of the meal, not just what you paid out of pocket.</li>
</ul></li>
</ul>
</div>
<div id="aboutthedata" class="section level4 unnumbered">
<h4>About the data</h4>
<p>The tips case study data is described as follows:</p>
<blockquote>
<p>In one restaurant, a food server recorded the following data on all customers they served during an interval of two and a half months in early 1990.</p>
</blockquote>
<blockquote>
<p>Food servers‚Äô tips in restaurants may be influenced by many factors, including the nature of the restaurant, size of the party, and table locations in the restaurant. Restaurant managers need to know which factors matter when they assign tables to food servers.</p>
</blockquote>
<p>and a description of the variables is as reported in <span class="citation"><a href="#ref-cookswayne07" role="doc-biblioref">Cook and Swayne</a> (<a href="#ref-cookswayne07" role="doc-biblioref">2007</a>)</span>:</p>
<p><img src="images/tips.png" width="90%"></p>
</div>
<div id="casestudyprocedure" class="section level4 unnumbered">
<h4>Case study procedure</h4>
<p>The analysis of the data should follow these steps according to the book:</p>
<ul>
<li><em>Step 1</em>: Develop a model
<ul>
<li>Should the response be <code>tip</code> alone and use the total bill as a predictor?</li>
<li>Should you create a new variable <code>tip rate</code> and use this as the response?</li>
</ul></li>
<li><em>Step 2</em>: Fit the full model with sex, smoker, day, time and size as predictors</li>
<li><em>Step 3</em>: Refine model: Should some variables should be dropped?</li>
<li><em>Step 4</em>: Check distribution of residuals</li>
<li><em>Step 5</em>: Summarise the model, if X=something, what would be the expected tip</li>
</ul>
</div>
<div id="step1" class="section level4 unnumbered">
<h4>Step 1</h4>
<p>Calculate tip % as tip/total bill <span class="math inline">\(\times\)</span> 100</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="what-is-eda.html#cb1-1" aria-hidden="true" tabindex="-1"></a>tips <span class="ot">&lt;-</span> tips <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="what-is-eda.html#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tip_pct =</span> tip<span class="sc">/</span>totbill <span class="sc">*</span> <span class="dv">100</span>) <span class="co">#&lt;&lt;</span></span></code></pre></div>
</div>
<div id="step2" class="section level4 unnumbered">
<h4>Step 2</h4>
<p>Fit the full model with all variables</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="what-is-eda.html#cb2-1" aria-hidden="true" tabindex="-1"></a>tips_lm <span class="ot">&lt;-</span> tips <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="what-is-eda.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tip_pct, sex, smoker, day, time, size) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="what-is-eda.html#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(tip_pct <span class="sc">~</span> ., <span class="at">data=</span>.) <span class="co">#&lt;&lt;</span></span></code></pre></div>
<p>Summarise the model</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="what-is-eda.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb3-2"><a href="what-is-eda.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb3-3"><a href="what-is-eda.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(tips_lm) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb3-4"><a href="what-is-eda.html#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="what-is-eda.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() </span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
20.66
</td>
<td style="text-align:right;">
2.49
</td>
<td style="text-align:right;">
8.29
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
sexM
</td>
<td style="text-align:right;">
-0.85
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
-1.02
</td>
<td style="text-align:right;">
0.31
</td>
</tr>
<tr>
<td style="text-align:left;">
smokerYes
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.85
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.67
</td>
</tr>
<tr>
<td style="text-align:left;">
daySat
</td>
<td style="text-align:right;">
-0.18
</td>
<td style="text-align:right;">
1.83
</td>
<td style="text-align:right;">
-0.10
</td>
<td style="text-align:right;">
0.92
</td>
</tr>
<tr>
<td style="text-align:left;">
daySun
</td>
<td style="text-align:right;">
1.67
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
0.88
</td>
<td style="text-align:right;">
0.38
</td>
</tr>
<tr>
<td style="text-align:left;">
dayThu
</td>
<td style="text-align:right;">
-1.82
</td>
<td style="text-align:right;">
2.32
</td>
<td style="text-align:right;">
-0.78
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:left;">
timeNight
</td>
<td style="text-align:right;">
-2.34
</td>
<td style="text-align:right;">
2.61
</td>
<td style="text-align:right;">
-0.89
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:left;">
size
</td>
<td style="text-align:right;">
-0.96
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
-2.28
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="what-is-eda.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(tips_lm) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb4-2"><a href="what-is-eda.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(r.squared, statistic, p.value) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="what-is-eda.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
r.squared
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
1.479
</td>
<td style="text-align:right;">
0.175
</td>
</tr>
</tbody>
</table>
<p>ü§î Which variable(s) would be considered important for predicting tip %?</p>
</div>
<div id="step3" class="section level4 unnumbered">
<h4>Step 3</h4>
<p>Refine the model.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="what-is-eda.html#cb5-1" aria-hidden="true" tabindex="-1"></a>tips_lm <span class="ot">&lt;-</span> tips <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="what-is-eda.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tip_pct, size) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb5-3"><a href="what-is-eda.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(tip_pct <span class="sc">~</span> ., <span class="at">data=</span>.) </span>
<span id="cb5-4"><a href="what-is-eda.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(tips_lm) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb5-5"><a href="what-is-eda.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="what-is-eda.html#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() </span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
18.44
</td>
<td style="text-align:right;">
1.12
</td>
<td style="text-align:right;">
16.47
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
size
</td>
<td style="text-align:right;">
-0.92
</td>
<td style="text-align:right;">
0.41
</td>
<td style="text-align:right;">
-2.25
</td>
<td style="text-align:right;">
0.03
</td>
</tr>
</tbody>
</table>
<p><span class="math display">\[\widehat{tip %} = 18.44 - 0.92 \times size\]</span></p>
<p>As the size of the dining party increases by one person the tip decreases by approximately 1%.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="what-is-eda.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(tips_lm) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb6-2"><a href="what-is-eda.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(r.squared, statistic, p.value) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="what-is-eda.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
r.squared
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
5.042
</td>
<td style="text-align:right;">
0.026
</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\(R^2 = 0.02\)</span>.</p>
<p>This dropped by half from the full model, even though no other variables contributed significantly to the model. It might be a good step to examine interaction terms.</p>
<p><strong>What does <span class="math inline">\(R^2 = 0.02\)</span> mean?</strong></p>
<p><span class="math inline">\(R^2 = 0.02\)</span> means that size explains just 2% of the variance in tip %. This is a very weak model.</p>
<p>And <span class="math inline">\(R^2 = 0.04\)</span> is also a very weak model.</p>
<p><strong>What do the <span class="math inline">\(F\)</span> statistic and <span class="math inline">\(p\)</span>-value mean?</strong></p>
<p>Assume that we have a random sample from a population. Assume that the model for the population is</p>
<p><span class="math display">\[ \widehat{tip %} = \beta_0 + \beta_1 sexM + ... + \beta_7 size \]</span>
and we have observed</p>
<p><span class="math display">\[ \widehat{tip %} = b_0 + b_1  sexM + ... + b_7 size \]</span>
The <span class="math inline">\(F\)</span> statistic refers to</p>
<p><span class="math display">\[ H_o: \beta_1 = ... = \beta_7 = 0 ~~ vs ~~ H_a: \text{at least one is not 0}\]</span>
The <span class="math inline">\(p\)</span>-value is the probability that we observe the given <span class="math inline">\(F\)</span> value or larger, computed assuming <span class="math inline">\(H_o\)</span> is true.</p>
<p><strong>What do the <span class="math inline">\(t\)</span> statistics and <span class="math inline">\(p\)</span>-value associated with model coeficients mean?</strong></p>
<p>Assume that we have a random sample from a population. Assume that the model for the population is</p>
<p><span class="math display">\[ \widehat{tip %} = \beta_0 + \beta_1 sexM + ... + \beta_7 size \]</span>
and we have observed</p>
<p><span class="math display">\[ \widehat{tip %} = b_0 + b_1  sexM + ... + b_7 size \]</span></p>
<p>The <span class="math inline">\(t\)</span> statistics in the coefficient summary refer to</p>
<p><span class="math display">\[ H_o: \beta_k = 0 ~~ vs ~~ H_a: \beta_k \neq 0 \]</span>
The <span class="math inline">\(p\)</span>-value is the probability that we observe the given <span class="math inline">\(t\)</span> value or more extreme, computed assuming <span class="math inline">\(H_o\)</span> is true.</p>
</div>
<div id="modelchecking" class="section level4 unnumbered">
<h4>Model checking</h4>
<p>Normally, the final model summary would be accompanied diagnostic plots</p>
<ul>
<li>observed vs fitted values to check strength and appropriateness of the fit</li>
<li>univariate plot, and normal probability plot, of residuals to check for normality</li>
<li>in the simple final model like this, the observed vs predictor, with model overlaid would be advised to assess the model relative to the variability around the model</li>
<li>when the final model has more terms, using a partial dependence plot to check the relative relationship between the response and predictors would be recommended.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="what-is-eda.html#cb7-1" aria-hidden="true" tabindex="-1"></a>tips_aug <span class="ot">&lt;-</span> <span class="fu">augment</span>(tips_lm)</span>
<span id="cb7-2"><a href="what-is-eda.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips_aug, </span>
<span id="cb7-3"><a href="what-is-eda.html#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>.resid)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb7-4"><a href="what-is-eda.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="what-is-eda.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;residuals&quot;</span>) </span></code></pre></div>
<p><img src="eda-book_files/figure-html/res_hist-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="what-is-eda.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips_aug, </span>
<span id="cb8-2"><a href="what-is-eda.html#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">sample=</span>.resid)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb8-3"><a href="what-is-eda.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>() <span class="sc">+</span></span>
<span id="cb8-4"><a href="what-is-eda.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>() <span class="sc">+</span></span>
<span id="cb8-5"><a href="what-is-eda.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;residuals&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-6"><a href="what-is-eda.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="eda-book_files/figure-html/res_qq-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="what-is-eda.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips_aug, </span>
<span id="cb9-2"><a href="what-is-eda.html#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>.fitted, <span class="at">y=</span>tip_pct)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb9-3"><a href="what-is-eda.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="what-is-eda.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="what-is-eda.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;observed&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="what-is-eda.html#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;fitted&quot;</span>)</span></code></pre></div>
<p><img src="eda-book_files/figure-html/obs_fitted-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="what-is-eda.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips_aug, </span>
<span id="cb10-2"><a href="what-is-eda.html#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>size, <span class="at">y=</span>tip_pct)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb10-3"><a href="what-is-eda.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="what-is-eda.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="what-is-eda.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;tip %&quot;</span>)</span></code></pre></div>
<p><img src="eda-book_files/figure-html/fitted_model-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>The result of this work would leave us with a model that could be used to impose a dining/tipping policy in restaurants (see <a href="https://travel.stackexchange.com/questions/40543/can-i-refuse-to-pay-auto-gratuity-in-a-restaurant">here</a>) and should also leave us with an unease that this policy is based on weak support.</p>
</div>
</div>
<div id="eda-approach" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> EDA approach</h3>
<p>It‚Äôs a good idea to examine the data description, and the explanation of the variables. What does that look like here?
- tip and totbill are quantitative, but generally we would think about tip as a percentage of the bill, so creating this new variable would be useful, too.
- sex, smoker, day, time of day are categorical.
- size is discrete/integer.</p>
<p>The types of variables suggest what summaries to make.</p>
<p>For the quantitative variables we would calculate
- means, standard deviations, median, quartiles, minimum and maximum, and
- also make histograms or density plots and scatterplots to explore bivariate relationships.</p>
<p>For categorical variables, and integer variables with few categories, compute
- counts and proportions, and
- make bar charts and mosaic plots</p>
<p>Thinking about relationships between categorical and quantitative variables, we could
- calculate the numerical summaries by the categorical variable levels, and
- make histograms and scatterplots, facetted by the categorical variables.</p>
<div id="tip" class="section level4 unnumbered">
<h4>Look at the distribution of tips, total bill.</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="what-is-eda.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips, </span>
<span id="cb11-2"><a href="what-is-eda.html#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>tip)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb11-3"><a href="what-is-eda.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb11-4"><a href="what-is-eda.html#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour=</span><span class="st">&quot;white&quot;</span>)  </span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Because, one binwidth is never enough ‚Ä¶</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="what-is-eda.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips, </span>
<span id="cb12-2"><a href="what-is-eda.html#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>tip)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="what-is-eda.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb12-4"><a href="what-is-eda.html#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks=</span><span class="fu">seq</span>(<span class="fl">0.5</span>,<span class="fl">10.5</span>,<span class="dv">1</span>), <span class="co">#&lt;&lt; </span></span>
<span id="cb12-5"><a href="what-is-eda.html#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour=</span><span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb12-6"><a href="what-is-eda.html#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb12-7"><a href="what-is-eda.html#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">11</span>,<span class="dv">1</span>))</span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips2-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Big fat bins. Tips are skewed, which means most tips are relatively small.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="what-is-eda.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tips, </span>
<span id="cb13-2"><a href="what-is-eda.html#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>tip)) <span class="sc">+</span> </span>
<span id="cb13-3"><a href="what-is-eda.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb13-4"><a href="what-is-eda.html#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks=</span><span class="fu">seq</span>(<span class="fl">0.5</span>,<span class="fl">10.5</span>,<span class="fl">0.1</span>), <span class="co">#&lt;&lt;</span></span>
<span id="cb13-5"><a href="what-is-eda.html#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour=</span><span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-6"><a href="what-is-eda.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb13-7"><a href="what-is-eda.html#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">11</span>,<span class="dv">1</span>))</span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips3-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Skinny bins. Tips are multimodal, and occurring at the full dollar and 50c amounts.</p>
</div>
<div id="tiptotal" class="section level4 unnumbered">
<h4>Relationship between tip and total</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="what-is-eda.html#cb14-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tips, </span>
<span id="cb14-2"><a href="what-is-eda.html#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span>totbill, <span class="at">y=</span>tip)) <span class="sc">+</span> </span>
<span id="cb14-3"><a href="what-is-eda.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb14-4"><a href="what-is-eda.html#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb14-5"><a href="what-is-eda.html#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">11</span>,<span class="dv">1</span>))</span>
<span id="cb14-6"><a href="what-is-eda.html#cb14-6" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips_tot-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Adding a regression line, helps to focus on a tipping standard, and whether individual tips are above or below expected.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="what-is-eda.html#cb15-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="at">intercept=</span><span class="dv">0</span>, <span class="co">#&lt;&lt;</span></span>
<span id="cb15-2"><a href="what-is-eda.html#cb15-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">slope=</span><span class="fl">0.2</span>) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb15-3"><a href="what-is-eda.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">45</span>, <span class="at">y=</span><span class="dv">10</span>, </span>
<span id="cb15-4"><a href="what-is-eda.html#cb15-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">label=</span><span class="st">&quot;20% tip&quot;</span>) </span>
<span id="cb15-5"><a href="what-is-eda.html#cb15-5" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips_tot2-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Most tips less than 20%, there are more ‚Äúskin flints‚Äù than generous diners. There are a couple of big tips, and we can see the banding horizontally that is the rounding seen from the histogram of tips.</p>
</div>
<div id="tipcategorical" class="section level4 unnumbered">
<h4>Examine the distributions across categorical variables.</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="what-is-eda.html#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">facet_grid</span>(smoker<span class="sc">~</span>sex) <span class="co">#&lt;&lt;</span></span></code></pre></div>
<p><img src="eda-book_files/figure-html/tips_sexsmoke-1.png" width="90%" style="display: block; margin: auto;" /></p>
<ul>
<li>The bigger bills tend to be paid by men (and females that smoke).</li>
<li>Except for three diners, female non-smokers are very consistent tippers, probably around 15-18% though.</li>
<li>The variability in the smokers is much higher than for the non-smokers.</li>
</ul>
<p><em>Isn‚Äôt this interesting?</em></p>
</div>
</div>
<div id="summarising-the-difference" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Summarising the difference</h3>
<p>In the above example we gained a wealth of insight in a short time. Using nothing but graphical methods we investigated univariate, bivariate, and multivariate relationships. We found both global features and local detail. We saw that tips were rounded; then we saw the obvious correlation between the tip and the size of the bill, noting the scarcity of generous tippers; finally we discovered differences in the tipping behavior of male and female smokers and non-smokers.</p>
<p>Notice that we used very simple plots to explore some pretty complex relationships involving as many as four variables. Each plot shows a subset obtained by partitioning the data according to two binary variables. The statistical term for partitioning based on variables is ‚Äúconditioning.‚Äù For example, the top left plot shows the dining parties that meet the condition that the bill payer was a male non-smoker: sex = male and smoking = False. In database terminology this plot would be called the result of ‚Äúdrill-down.‚Äù The idea of conditioning is richer than drill-down because it involves a structured partitioning of all data as opposed to the extraction of a single partition.</p>
<p>Having generated the four plots, we arrange them in a two-by-two layout to reflect the two variables on which we conditioned. Although the axes in each plot are tip and bill, the axes of the overall figure are smoking (vertical) and sex (horizontal). The arrangement permits us to make several kinds of comparisons and to make observations about the partitions.</p>
</div>
<div id="reality-check" class="section level3" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Reality check</h3>
<p>The preceding explanations may have given a somewhat misleading impression of the process of data analysis. In our account the data had no problems; for example, there were no missing values and no recording errors. Every step was logical and necessary. Every question we asked had a meaningful answer. Every plot that was produced was useful and informative. In actual data analysis, nothing could be further from the truth. Real datasets are rarely perfect; most choices are guided by intuition, knowledge, and judgment; most steps lead to dead ends; most plots end up in the wastebasket. This may sound daunting, but even though data analysis is a highly improvisational activity, it can be given some structure nonetheless.</p>
</div>
<div id="what-is-eda-1" class="section level3" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> What is EDA?</h3>
<p>In this stage in the analysis, we make time to ‚Äúplay in the sand‚Äù to allow us to find the unexpected, and come to some understanding of our data. We like to think of this as a little like traveling. We may have a purpose in visiting a new city, perhaps to attend a conference, but we need to take care of our basic necessities, such as finding eating places and gas stations. Some of our movements will be pre-determined, or guided by the advice of others, but some of the time we wander around by ourselves. We may find a cafe we particularly like or a cheaper gas station. This is all about getting to know the neighborhood.</p>
<p>EDA has always depended heavily on graphics, even before the term data visualization was coined. Our favorite quote from John Tukey‚Äôs rich legacy is that we need good pictures to <em>‚Äúforce the unexpected upon us.‚Äù</em></p>
</div>
<div id="isnt-it-data-snooping" class="section level3" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Isn‚Äôt it data snooping?</h3>
<ul>
<li>Because EDA is very graphical, it sometimes gives rise to a suspicion that patterns in the data are being detected and reported that are not really there.</li>
<li>So many different combinations may be examined, that something is bound to be interesting.</li>
<li>üíÄ Structure seen in the plot drives hypothesis testing (on same data).</li>
</ul>
<p><em>Sometimes this is called data snooping.</em></p>
<p>We snooped into the tips data, and from a few plots we learned an enormous amount of information about tipping: There is a scarcity of generous tippers, the variability in tips increases extraordinarily for smoking parties, and people tend to round their tips. These are very different types of tipping behaviors than what we learned from the regression model. The regression model was not compromised by what we learned from graphics, and indeed, <em>we have a richer and more informative analysis. Making plots of the data is just smart.</em></p>
<p><strong>False discovery is the lesser danger when compared to non-discovery. Non-discovery is the failure to identify meaningful structure, and it may result in false or incomplete modeling. In a healthy scientific enterprise, the fear of non-discovery should be at least as great as the fear of false discovery.</strong></p>
</div>
<div id="why-arent-there-more-resources-on-eda" class="section level3" number="2.2.7">
<h3><span class="header-section-number">2.2.7</span> Why aren‚Äôt there more resources on EDA?</h3>
<blockquote>
<p>Teaching data analysis is not easy, and the time allowed is always far from sufficient. But these difficulties have been enhanced by the view that ‚Äúavoidance of cookbookery and growth of understanding come only by mathematical treatment, with emphasis upon proofs.‚Äù The problem of cookbookery is not peculiar to data analysis. But the solution of concentrating upon mathematics and proof is. <span class="citation"><a href="#ref-tukey1962" role="doc-biblioref">Tukey</a> (<a href="#ref-tukey1962" role="doc-biblioref">1962</a>)</span></p>
</blockquote>
<p>There are many courses now, every introductory statistics course begins with exploratory data analysis, and teaches box plots. It is just a simple treatment, though. A book by <a href="https://bookdown.org/rdpeng/exdata/">Peng</a>, and a <a href="https://www.coursera.org/learn/exploratory-data-analysis">Coursera class by Peng, Leek and Caffo</a> with more than a 100,000 regularly enrolled.</p>
<center>
<ADD SOFTWARE TOO>
</center>
<p><strong>But we argue that there is something missing from all of this. Almost all of these resources focus on what would be called initial data analysis. These don‚Äôt capture the spirit of EDA, as introduced by Tukey.</strong></p>
</div>
</div>
<div id="the-origins-of-eda" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> The origins of EDA</h2>
<p>The field of exploratory data analysis came of age when this book appeared in 1977.</p>
<center>
<img src="images/tukey_cover.png" width="50%">
</center>
<p><em>Tukey held that too much emphasis in statistics was placed on statistical hypothesis testing (confirmatory data analysis); more emphasis needed to be placed on using data to suggest hypotheses to test.</em></p>
<div class="do">
<p>Take a glimpse back in time is possible with the <a href="http://stat-graphics.org/movies/">American Statistical Association video lending library</a>.</p>
<p>Watch <a href="https://www.youtube.com/embed/B7XoW2qiFUA">John Tukey talking about exploring high-dimensional data with an amazing new computer in 1973</a>, four years before the EDA book. Look out for these things:</p>
<ul>
<li>Tukey‚Äôs expertise is described as <em>for trial and error learning</em> and</li>
<li>the computing equipment, especially how the human interacted with the screen,</li>
<li>and the hair style of Jerry Friedman.</li>
</ul>
<p>The first 4.25 minutes are the best!</p>
</div>
</div>
<div id="exercises" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>Make a histogram of the total bill. Is there a similar pattern of multimodality?</p></li>
<li><p>In the scatterplot of tip vs total bill, why is total on the horizontal axis?</p></li>
</ol>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-bryantsmith1995" class="csl-entry">
Bryant, Peter G., and Marlene A. Smith. 1995. <em>Practical Data Analysis: Case Studies in Business Statistics</em>. chicago: irwin.
</div>
<div id="ref-cookswayne07" class="csl-entry">
Cook, D., and D. Swayne. 2007. <em><span>I</span>nteractive and <span>D</span>ynamic <span>G</span>raphics for <span>D</span>ata <span>A</span>nalysis with Examples Using <span>R</span> and <span>GG</span>obi</em>. New York: Springer.
</div>
<div id="ref-tukey1962" class="csl-entry">
Tukey, John W. 1962. <span>‚ÄúThe Future of Data Analysis.‚Äù</span> <em>Annals of Mathematical Statistics</em> 33: 1‚Äì67.
</div>
<div id="ref-r4ds" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for Data Science</em>. <a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>: O‚ÄôReilly.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="initial-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["eda-book.pdf", "eda-book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
